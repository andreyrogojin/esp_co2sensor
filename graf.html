<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<style>
label {
	margin-left: 30px;
}
</style>
</head>
<body>
<figure>
	<figcaption>
		CO2 PPM.
	</figcaption>
	<svg id="figure" version="1.1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="1184" height="592" viewBox="-10 -105 220 115">
		<g class="axis" stroke="#0074d9" stroke-width="0.3">
		  <g id="spin_x">
			<line x1="0" x2="200" y1="0" y2="0"></line>
		  </g>
		  <g id="spin_y">
			<line x1="0" x2="0" y1="0" y2="-100"></line>
			<line class="ytick" x1="-2" x2="0" y1="-0" y2="-0"></line>
			<line class="ygrid" x1="0" x2="0" y1="-0" y2="-0" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line>
			<text class="yticklabel" x="-3" y="-0" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">250</text>
		  <line class="ytick" x1="-2" x2="0" y1="-8" y2="-8"></line><line class="ygrid" x1="0" x2="200" y1="-8" y2="-8" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-8" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">350</text><line class="ytick" x1="-2" x2="0" y1="-16" y2="-16"></line><line class="ygrid" x1="0" x2="200" y1="-16" y2="-16" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-16" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">450</text><line class="ytick" x1="-2" x2="0" y1="-24" y2="-24"></line><line class="ygrid" x1="0" x2="200" y1="-24" y2="-24" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-24" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">550</text><line class="ytick" x1="-2" x2="0" y1="-32" y2="-32"></line><line class="ygrid" x1="0" x2="200" y1="-32" y2="-32" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-32" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">650</text><line class="ytick" x1="-2" x2="0" y1="-40" y2="-40"></line><line class="ygrid" x1="0" x2="200" y1="-40" y2="-40" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-40" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">750</text><line class="ytick" x1="-2" x2="0" y1="-48" y2="-48"></line><line class="ygrid" x1="0" x2="200" y1="-48" y2="-48" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-48" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">850</text><line class="ytick" x1="-2" x2="0" y1="-56" y2="-56"></line><line class="ygrid" x1="0" x2="200" y1="-56" y2="-56" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-56" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">950</text><line class="ytick" x1="-2" x2="0" y1="-64" y2="-64"></line><line class="ygrid" x1="0" x2="200" y1="-64" y2="-64" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-64" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">1050</text><line class="ytick" x1="-2" x2="0" y1="-72" y2="-72"></line><line class="ygrid" x1="0" x2="200" y1="-72" y2="-72" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-72" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">1150</text><line class="ytick" x1="-2" x2="0" y1="-80" y2="-80"></line><line class="ygrid" x1="0" x2="200" y1="-80" y2="-80" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-80" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">1250</text><line class="ytick" x1="-2" x2="0" y1="-88" y2="-88"></line><line class="ygrid" x1="0" x2="200" y1="-88" y2="-88" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-88" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">1350</text><line class="ytick" x1="-2" x2="0" y1="-96" y2="-96"></line><line class="ygrid" x1="0" x2="200" y1="-96" y2="-96" stroke="#faa" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="3"></line><text class="yticklabel" x="-3" y="-96" font-size="5" vector-effect="non-scaling-stroke" text-anchor="end" dominant-baseline="middle">1450</text></g>
		  <g id="spin_y2">
			<line x1="200" x2="200" y1="0" y2="-100"></line>
			<line class="ytick2" x1="200" x2="202" y1="-0" y2="-0"></line>
			<line class="ygrid2" x1="200" x2="200" y1="-0" y2="-0" stroke="#aaf" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="2 8"></line>
			<text class="yticklabel2" x="203" y="-0" font-size="4" vector-effect="non-scaling-stroke" text-anchor="start" dominant-baseline="middle">15</text>
		  <line class="ytick2" x1="200" x2="202" y1="-33.333333333333336" y2="-33.333333333333336"></line><line class="ygrid2" x1="0" x2="200" y1="-33.333333333333336" y2="-33.333333333333336" stroke="#aaf" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="2 8"></line><text class="yticklabel2" x="203" y="-33.333333333333336" font-size="4" vector-effect="non-scaling-stroke" text-anchor="start" dominant-baseline="middle">20</text><line class="ytick2" x1="200" x2="202" y1="-66.66666666666667" y2="-66.66666666666667"></line><line class="ygrid2" x1="0" x2="200" y1="-66.66666666666667" y2="-66.66666666666667" stroke="#aaf" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="2 8"></line><text class="yticklabel2" x="203" y="-66.66666666666667" font-size="4" vector-effect="non-scaling-stroke" text-anchor="start" dominant-baseline="middle">25</text><line class="ytick2" x1="200" x2="202" y1="-100" y2="-100"></line><line class="ygrid2" x1="0" x2="200" y1="-100" y2="-100" stroke="#aaf" stroke-width="1" vector-effect="non-scaling-stroke" stroke-dasharray="2 8"></line><text class="yticklabel2" x="203" y="-100" font-size="4" vector-effect="non-scaling-stroke" text-anchor="start" dominant-baseline="middle">30</text></g>
		</g>
		<g class="data" transform="scale(0.034722222222222224, -0.08) translate(0, -250)">
			<polyline id="co2ppm" fill="none" stroke="red" stroke-width="3" vector-effect="non-scaling-stroke" points="0 304.5 6 305 12 304 18 305 24 304.5 30 305 36 304 42 304 48 304 54 304 60 305 66 304 72 304 78 303 84 305 90 304.5 96 305 102 306.5 108 307.5 114 308 120 308 126 307 132 306 138 305 144 306 150 306 156 305 162 305 168 306 174 307 180 305 186 306 192 305.5 198 305 204 305 210 305 216 305 222 304 228 304 234 305 240 306 246 305 252 304.5 258 306 264 305 270 304 276 304 282 303 288 302 294 302 300 302 306 302 312 301.5 318 303 324 304 330 304 336 304 342 304 348 303 354 303.5 360 304 366 304 372 305 378 305 384 306 390 306 396 306 402 305.5 408 305 414 305 420 305 426 302 432 302 438 301 444 301 450 301 456 302 462 302.5 468 303 474 303 480 303.5 486 304 492 307 498 306.5 504 306 510 306 516 305 522 306 528 307 534 305.5 540 304 546 303 552 304 558 303 564 301.5 570 301 576 302 582 303 588 302 594 301 600 302 606 302 612 302 618 302 624 302.5 630 302 636 303 642 306 648 306 654 306.5 660 304.5 666 305 672 305 678 304.5 684 305 690 304 696 304 702 303 708 304 714 303 720 302 726 302 732 302 738 303 744 305 750 307.5 756 307 762 307 768 308 774 307.5 780 308 786 307 792 305.5 798 307 804 306 810 305.5 816 304 822 305 828 304.5 834 303.5 840 303.5 846 304 852 305 858 304 864 304 870 305 876 305 882 307 888 306.5 894 305.5 900 305.5 906 306 912 306 918 304 924 305 930 306 936 306 942 305.5 948 305 954 305 960 304 966 304 972 304 978 303 984 303 990 304.5 996 304 1002 303.5 1008 304 1014 304 1020 303 1026 303 1032 303 1038 302.5 1044 303 1050 302 1056 303 1062 303 1068 302 1074 301 1080 301 1086 302 1092 302.5 1098 304 1104 304 1110 304.5 1116 305.5 1122 303 1128 303.5 1134 304 1140 304 1146 303.5 1152 303 1158 302 1164 303 1170 302.5 1176 302 1182 302.5 1188 302 1194 302 1200 303 1206 302 1212 303 1218 302 1224 302 1230 304 1236 303.5 1242 305 1248 305 1254 305 1260 305 1266 305 1272 303 1278 304 1284 305.5 1290 305 1296 305 1302 305 1308 305 1314 304 1320 306 1326 306.5 1332 307 1338 305 1344 304 1350 303.5 1356 302 1362 301 1368 302 1374 303 1380 302.5 1386 302 1392 302 1398 301 1404 302 1410 303 1416 302 1422 303 1428 302.5 1434 302 1440 302 1446 303 1452 302.5 1458 303 1464 304 1470 304 1476 304 1482 304.5 1488 305 1494 305 1500 304 1506 304 1512 304 1518 304.5 1524 304 1530 303 1536 303 1542 303 1548 303.5 1554 303 1560 304 1566 303 1572 304 1578 306 1584 307 1590 306 1596 306 1602 305 1608 305 1614 306 1620 306 1626 307 1632 309 1638 308 1644 309 1650 310 1656 310 1662 313 1668 313 1674 314 1680 316.5 1686 316 1692 315.5 1698 315 1704 315 1710 315 1716 315.5 1722 317 1728 316 1734 316.5 1740 315 1746 315 1752 315 1758 316 1764 315 1770 317 1776 317 1782 318 1788 317.5 1794 318.5 1800 320 1806 322 1812 322.5 1818 323.5 1824 324 1830 323.5 1836 323.5 1842 324.5 1848 325 1854 325 1860 326 1866 327.5 1872 328 1878 329 1884 331 1890 332 1896 332 1902 331 1908 330.5 1914 332 1920 333 1926 333 1932 335.5 1938 336 1944 335.5 1950 336 1956 336 1962 339.5 1968 340 1974 339 1980 339 1986 340.5 1992 343 1998 344.5 2004 345 2010 346 2016 346 2022 346 2028 347 2034 347 2040 346 2046 348 2052 349 2058 349.5 2064 352 2070 353 2076 353.5 2082 354 2088 355 2094 354.5 2100 354 2106 353 2112 354 2118 355 2124 355.5 2130 356 2136 356 2142 356.5 2148 359 2154 359.5 2160 363.5 2166 365.5 2172 366 2178 366 2184 367 2190 368 2196 369.5 2202 370 2208 371 2214 370.5 2220 371 2226 372 2232 372 2238 373 2244 374 2250 376 2256 380 2262 381 2268 385 2274 386.5 2280 388 2286 390 2292 392 2298 393 2304 392 2310 396 2316 397 2322 398 2328 398.5 2334 400.5 2340 402 2346 403 2352 403 2358 403 2364 406 2370 406 2376 407 2382 407 2388 407.5 2394 407 2400 408 2406 409 2412 410.5 2418 412.5 2424 414 2430 417.5 2436 419.5 2442 421.5 2448 424 2454 423.5 2460 424 2466 423.5 2472 424.5 2478 425 2484 425 2490 426.5 2496 428 2502 432 2508 438 2514 439 2520 441 2526 444.5 2532 447 2538 448.5 2544 451 2550 456 2556 460.5 2562 464 2568 466 2574 469.5 2580 472 2586 476 2592 477 2598 478 2604 479 2610 478 2616 479 2622 480 2628 482 2634 486.5 2640 491 2646 499 2652 502.5 2658 503.5 2664 505 2670 505.5 2676 507 2682 510 2688 511 2694 511 2700 523.5 2706 547.5 2712 551 2718 550 2724 549 2730 550.5 2736 602 2742 624 2748 623 2754 632.5 2760 632.5 2766 631 2772 631 2778 632 2784 633 2790 634 2796 632 2802 624 2808 615.5 2814 608.5 2820 605 2826 602.5 2832 599 2838 598 2844 600 2850 602.5 2856 603.5 2862 604.5 2868 611 2874 615 2880 617 2886 618 2892 619 2898 621 2904 623.5 2910 626 2916 627.5 2922 629.5 2928 631 2934 633.5 2940 639.5 2946 642 2952 643 2958 643 2964 643 2970 643 2976 648 2982 648 2988 650 2994 650.5 3000 651 3006 653 3012 655 3018 656.5 3024 658 3030 659.5 3036 663.5 3042 670.5 3048 671 3054 675 3060 677 3066 680 3072 683 3078 686 3084 688 3090 690.5 3096 696 3102 697.5 3108 699 3114 701 3120 704 3126 708.5 3132 711.5 3138 716 3144 719.5 3150 725 3156 726 3162 733.5 3168 738 3174 742 3180 745 3186 748.5 3192 750 3198 749 3204 749 3210 746 3216 745 3222 744.5 3228 745.5 3234 752 3240 756 3246 759 3252 761.5 3258 763.5 3264 765 3270 767 3276 767 3282 767 3288 775.5 3294 787 3300 789 3306 790 3312 791 3318 790 3324 790.5 3330 790 3336 791 3342 790.5 3348 793.5 3354 797 3360 797 3366 799 3372 801.5 3378 802 3384 802 3390 805.5 3396 809.5 3402 813.5 3408 815.5 3414 815 3420 816 3426 815 3432 814.5 3438 809 3444 809 3450 808 3456 802 3462 800.5 3468 800 3474 793 3480 786 3486 785 3492 785 3498 785 3504 775.5 3510 767 3516 767 3522 767 3528 767 3534 767 3540 767 3546 775.5 3552 788 3558 794 3564 797 3570 801.5 3576 804 3582 806 3588 805 3594 804 3600 804 3606 804 3612 803 3618 803.5 3624 804 3630 801 3636 801.5 3642 803 3648 805 3654 809 3660 810 3666 808.5 3672 808 3678 807 3684 807 3690 808 3696 809 3702 811 3708 814 3714 816 3720 819 3726 820 3732 820.5 3738 821 3744 820 3750 823 3756 824 3762 826 3768 828.5 3774 833 3780 834 3786 836 3792 839.5 3798 841.5 3804 843 3810 846 3816 850.5 3822 855.5 3828 858 3834 857 3840 859 3846 858 3852 859.5 3858 860 3864 860 3870 862 3876 862 3882 863.5 3888 863 3894 861.5 3900 861.5 3906 863 3912 864 3918 864 3924 867 3930 872 3936 874.5 3942 876 3948 876 3954 873 3960 874 3966 874 3972 874 3978 847 3984 828.5 3990 826 3996 813 4002 790 4008 776 4014 758 4020 757 4026 760 4032 762 4038 766 4044 766 4050 766 4056 766 4062 766 4068 766 4074 766 4080 792 4086 793 4092 792 4098 790 4104 785 4110 784 4116 774.5 4122 757 4128 751 4134 751 4140 748.5 4146 741.5 4152 735 4158 727 4164 724 4170 723 4176 724 4182 723.5 4188 721.5 4194 720.5 4200 714.5 4206 707.5 4212 698.5 4218 694.5 4224 693 4230 691 4236 691 4242 688.5 4248 684 4254 678 4260 678 4266 675.5 4272 665.5 4278 648.5 4284 642 4290 642 4296 642 4302 641 4308 642 4314 640.5 4320 639 4326 636.5 4332 635.5 4338 634 4344 638 4350 639.5 4356 640 4362 639 4368 640.5 4374 643.5 4380 644 4386 640.5 4392 639 4398 637 4404 637 4410 636.5 4416 637 4422 637 4428 637 4434 638.5 4440 639.5 4446 640 4452 641 4458 641 4464 641 4470 641 4476 642 4482 642 4488 641 4494 639 4500 637 4506 636.5 4512 633 4518 631 4524 627 4530 621 4536 619.5 4542 618.5 4548 617 4554 617 4560 616 4566 618 4572 620 4578 620 4584 621.5 4590 630 4596 634.5 4602 636 4608 639 4614 639.5 4620 641 4626 640 4632 640 4638 641 4644 640 4650 638.5 4656 637 4662 636 4668 632.5 4674 633 4680 634.5 4686 636 4692 639.5 4698 644 4704 659 4710 671 4716 674 4722 678 4728 679.5 4734 680.5 4740 689 4746 692.5 4752 695.5 4758 697 4764 698 4770 699 4776 697.5 4782 692.5 4788 682 4794 674 4800 670 4806 669.5 4812 667 4818 665 4824 666.5 4830 680 4836 686.5 4842 693.5 4848 703 4854 708 4860 718.5 4866 730 4872 732.5 4878 743 4884 746 4890 747 4896 746.5 4902 746 4908 744.5 4914 742 4920 743 4926 744 4932 746 4938 745 4944 744 4950 744 4956 742 4962 742 4968 744.5 4974 747 4980 750 4986 752.5 4992 756.5 4998 759.5 5004 760 5010 761 5016 763 5022 763 5028 763.5 5034 765 5040 764 5046 764 5052 762 5058 758.5 5064 756 5070 753 5076 754 5082 759.5 5088 762 5094 764.5 5100 766 5106 766 5112 766 5118 766 5124 766 5130 766 5136 784 5142 786 5148 787 5154 788 5160 789 5166 788 5172 787 5178 786 5184 785 5190 786 5196 786 5202 784 5208 784 5214 784 5220 785.5 5226 789.5 5232 797 5238 801 5244 809.5 5250 812 5256 815.5 5262 816.5 5268 820 5274 819 5280 817 5286 814.5 5292 811.5 5298 809 5304 809 5310 808 5316 808 5322 807 5328 799.5 5334 793 5340 791 5346 791.5 5352 795.5 5358 799 5364 801 5370 802 5376 810.5 5382 815.5 5388 817 5394 818 5400 818.5 5406 817.5 5412 816.5 5418 813 5424 813.5 5430 808.5 5436 805.5 5442 802 5448 793.5 5454 788.5 5460 786 5466 788 5472 790 5478 790 5484 791.5 5490 795.5 5496 802.5 5502 808 5508 812.5 5514 815 5520 815 5526 814 5532 815 5538 815 5544 816 5550 815 5556 815 5562 815 5568 815 5574 813 5580 813 5586 813 5592 811 5598 812 5604 812 5610 813.5 5616 815.5 5622 820.5 5628 824.5 5634 833.5 5640 839 5646 840.5 5652 840 5658 840 5664 840 5670 840.5 5676 841 5682 843 5688 847 5694 847 5700 847 5706 848 5712 847 5718 845.5 5724 839.5 5730 837.5 5736 851 5742 863.5 5748 874 5754 875"></polyline>
		</g>
		<g class="data2" transform="scale(0.034722222222222224, -6.666666666666667) translate(0, -15)">
			<polyline id="temperature" fill="none" stroke="blue" stroke-width="3" vector-effect="non-scaling-stroke" points="0 20 6 19.5 12 20 18 20 24 20 30 20 36 20 42 20 48 20 54 20 60 20 66 20 72 20 78 20 84 20 90 20 96 20 102 20 108 20 114 20 120 20 126 20 132 20 138 20 144 20 150 20 156 19 162 19 168 20 174 20 180 20 186 20 192 20 198 20 204 20 210 20 216 20 222 20 228 20 234 20 240 20 246 20 252 20 258 20 264 20 270 20 276 20 282 20 288 20 294 19 300 19.5 306 20 312 20 318 20 324 20 330 20 336 20 342 20 348 20 354 20 360 20 366 20 372 20 378 20 384 20 390 20 396 20 402 20 408 20 414 20 420 20 426 19 432 19 438 19 444 19 450 20 456 20 462 20 468 20 474 20 480 20 486 20 492 20 498 20 504 20 510 20 516 20 522 20 528 20 534 20 540 20 546 20 552 20 558 20 564 20 570 20 576 20 582 20 588 20 594 20 600 20 606 20 612 20 618 20 624 20 630 20 636 20 642 20 648 20 654 20 660 20 666 20 672 20 678 20 684 20 690 20 696 20 702 19 708 19.5 714 20 720 19.5 726 20 732 20 738 20 744 20 750 20 756 20 762 20 768 20 774 20 780 20 786 20 792 20 798 20 804 20 810 20 816 20 822 20 828 20 834 20 840 20 846 20 852 20 858 20 864 20 870 20 876 20 882 20 888 20 894 20 900 20 906 20 912 20 918 20 924 20 930 20 936 20 942 20 948 20 954 20 960 20 966 20 972 20 978 20 984 19 990 19 996 19 1002 19 1008 19 1014 19 1020 20 1026 20 1032 20 1038 20 1044 20 1050 20 1056 20 1062 20 1068 20 1074 20 1080 20 1086 20 1092 20 1098 20 1104 20 1110 20 1116 20 1122 20 1128 20 1134 20 1140 20 1146 19 1152 19.5 1158 20 1164 20 1170 20 1176 20 1182 20 1188 20 1194 20 1200 20 1206 20 1212 20 1218 20 1224 20 1230 20 1236 20 1242 20 1248 20 1254 20 1260 20 1266 20 1272 20 1278 20 1284 20 1290 20 1296 20 1302 20 1308 20 1314 20 1320 20 1326 20 1332 20 1338 20 1344 20 1350 20 1356 20 1362 20 1368 20 1374 20 1380 20 1386 20 1392 20 1398 20 1404 20 1410 20 1416 20 1422 20 1428 20 1434 20 1440 20 1446 20 1452 20 1458 20 1464 20 1470 20 1476 20 1482 20 1488 20 1494 20 1500 20 1506 20 1512 20 1518 20 1524 20 1530 20 1536 20 1542 20 1548 20 1554 20 1560 20 1566 20 1572 20 1578 20 1584 20 1590 20 1596 20 1602 20 1608 20 1614 20 1620 20 1626 20 1632 20 1638 20 1644 20 1650 20 1656 20 1662 20 1668 20 1674 20 1680 20 1686 20 1692 20 1698 20 1704 20 1710 20 1716 20 1722 20 1728 20 1734 20 1740 20 1746 20 1752 20 1758 20 1764 20 1770 20 1776 20 1782 20 1788 20 1794 20 1800 20 1806 20 1812 20 1818 20 1824 20 1830 20 1836 20 1842 20 1848 20 1854 20 1860 20 1866 20 1872 20 1878 20 1884 20 1890 20 1896 20 1902 20 1908 20 1914 20 1920 20 1926 20 1932 20 1938 20 1944 20 1950 20 1956 20 1962 20 1968 20 1974 20 1980 20 1986 20 1992 20 1998 20 2004 20 2010 20 2016 20 2022 20 2028 20 2034 20 2040 20 2046 20 2052 20 2058 20 2064 20 2070 20 2076 20 2082 20 2088 20 2094 20 2100 20 2106 20 2112 20 2118 20 2124 20 2130 20 2136 20 2142 20 2148 20 2154 20 2160 20 2166 20 2172 20 2178 20 2184 20 2190 20 2196 20 2202 20 2208 20 2214 20 2220 20 2226 20 2232 20 2238 20 2244 20 2250 20 2256 20 2262 20 2268 20 2274 20 2280 20 2286 20 2292 20 2298 20 2304 20 2310 20 2316 20 2322 20 2328 20 2334 20 2340 20 2346 20 2352 20 2358 20 2364 20 2370 20 2376 20 2382 20 2388 20 2394 20 2400 20 2406 20 2412 20 2418 20 2424 20 2430 20 2436 20 2442 20 2448 20 2454 21 2460 21 2466 21 2472 21 2478 21 2484 21 2490 21 2496 21 2502 21 2508 21 2514 21 2520 21 2526 21 2532 21 2538 21 2544 21 2550 21 2556 21 2562 21 2568 21 2574 21 2580 21 2586 21 2592 21 2598 21 2604 21 2610 21 2616 21 2622 21 2628 21 2634 21 2640 21 2646 21 2652 21 2658 21 2664 21 2670 21 2676 21 2682 21 2688 21 2694 21 2700 21 2706 21 2712 21 2718 21 2724 21 2730 21 2736 21 2742 21 2748 21 2754 21 2760 21 2766 21 2772 21 2778 21 2784 21 2790 21 2796 21 2802 21 2808 21 2814 21 2820 21 2826 21 2832 21 2838 21 2844 21 2850 21 2856 21 2862 21 2868 21 2874 21 2880 21 2886 21 2892 21 2898 21 2904 21 2910 21 2916 21 2922 21 2928 21 2934 21 2940 21 2946 21 2952 21 2958 21 2964 21 2970 21 2976 21 2982 21 2988 21 2994 21 3000 21 3006 21 3012 21 3018 21 3024 21 3030 21 3036 21 3042 21 3048 21 3054 21 3060 21 3066 21 3072 21 3078 21 3084 21 3090 21 3096 21 3102 21 3108 21 3114 22 3120 22 3126 22 3132 22 3138 22 3144 22 3150 22 3156 22 3162 22 3168 22 3174 22 3180 22 3186 22 3192 21 3198 21 3204 21 3210 21 3216 21 3222 21 3228 21 3234 21 3240 21 3246 21 3252 21 3258 21 3264 22 3270 22 3276 22 3282 22 3288 22 3294 22 3300 22 3306 22 3312 22 3318 22 3324 22 3330 22 3336 21.5 3342 21 3348 21 3354 21 3360 21 3366 21 3372 21 3378 21 3384 21 3390 22 3396 22 3402 22 3408 22 3414 22 3420 22 3426 22 3432 22 3438 22 3444 21 3450 22 3456 22 3462 22 3468 22 3474 22 3480 21 3486 21 3492 21 3498 21 3504 21 3510 21 3516 21 3522 21 3528 21 3534 21 3540 21 3546 21 3552 22 3558 22 3564 22 3570 22 3576 22 3582 22 3588 22 3594 22 3600 22 3606 22 3612 22 3618 22 3624 22 3630 22 3636 22 3642 22 3648 22 3654 22 3660 22 3666 21 3672 21 3678 21 3684 21 3690 21 3696 21 3702 21 3708 21 3714 21 3720 22 3726 22 3732 22 3738 22 3744 22 3750 22 3756 22 3762 22 3768 22 3774 22 3780 22 3786 22 3792 22 3798 22 3804 22 3810 22 3816 22 3822 22 3828 22 3834 22 3840 22 3846 22 3852 22 3858 22 3864 22 3870 22 3876 22 3882 22 3888 22 3894 21 3900 21 3906 21 3912 21 3918 22 3924 22 3930 22 3936 22 3942 22 3948 22 3954 22 3960 22 3966 22 3972 22 3978 22 3984 22 3990 22 3996 22 4002 22 4008 22 4014 21 4020 21.5 4026 22 4032 22 4038 22 4044 22 4050 22 4056 22 4062 22 4068 22 4074 22 4080 22 4086 22 4092 22 4098 22 4104 22 4110 22 4116 22 4122 22 4128 22 4134 22 4140 22 4146 22 4152 22 4158 22 4164 22 4170 22 4176 22 4182 22 4188 22 4194 22 4200 22 4206 22 4212 22 4218 22 4224 22 4230 22 4236 22 4242 22 4248 22 4254 22 4260 22 4266 21 4272 21 4278 21 4284 21 4290 22 4296 22 4302 22 4308 21 4314 22 4320 22 4326 21 4332 21 4338 21 4344 21 4350 21 4356 21 4362 22 4368 22 4374 22 4380 22 4386 22 4392 22 4398 22 4404 22 4410 22 4416 22 4422 22 4428 22 4434 22 4440 22 4446 22 4452 22 4458 22 4464 22 4470 22 4476 22 4482 22 4488 22 4494 22 4500 22 4506 22 4512 22 4518 22 4524 22 4530 22 4536 22 4542 22 4548 22 4554 22 4560 22 4566 22 4572 22 4578 22 4584 22 4590 22 4596 22 4602 22 4608 22 4614 22 4620 22 4626 22 4632 22 4638 22 4644 22 4650 22 4656 22 4662 22 4668 22 4674 22 4680 22 4686 22 4692 22 4698 22 4704 22 4710 22 4716 22 4722 22 4728 22 4734 22 4740 22 4746 22 4752 22 4758 22 4764 22 4770 22 4776 22 4782 22 4788 22 4794 22 4800 22 4806 22 4812 22 4818 22 4824 22 4830 22 4836 22 4842 22 4848 22 4854 22 4860 22 4866 22 4872 22 4878 22 4884 22 4890 22 4896 22 4902 22 4908 22 4914 22 4920 22 4926 22 4932 22 4938 22 4944 22 4950 22 4956 22 4962 22 4968 22 4974 22 4980 22 4986 22 4992 22 4998 23 5004 22 5010 22 5016 22 5022 22 5028 22 5034 22 5040 22 5046 22 5052 22 5058 22 5064 22 5070 22 5076 22 5082 22 5088 22 5094 22 5100 22 5106 22 5112 22 5118 22 5124 22 5130 22 5136 22 5142 23 5148 23 5154 23 5160 23 5166 23 5172 23 5178 23 5184 23 5190 23 5196 23 5202 23 5208 22 5214 22 5220 22 5226 22 5232 22 5238 22 5244 22 5250 22.5 5256 23 5262 23 5268 23 5274 22.5 5280 22 5286 22 5292 22 5298 23 5304 23 5310 23 5316 23 5322 23 5328 23 5334 23 5340 23 5346 23 5352 23 5358 23 5364 23 5370 23 5376 22 5382 22 5388 22 5394 22 5400 22 5406 22 5412 22 5418 22 5424 22 5430 22 5436 22 5442 22 5448 22 5454 22 5460 22 5466 22 5472 22 5478 22 5484 22 5490 22 5496 22 5502 22 5508 22 5514 23 5520 23 5526 23 5532 23 5538 23 5544 23 5550 23 5556 23 5562 23 5568 23 5574 23 5580 23 5586 23 5592 22 5598 22 5604 22 5610 22 5616 22 5622 22 5628 22 5634 23 5640 23 5646 23 5652 23 5658 23 5664 23 5670 23 5676 23 5682 23 5688 23 5694 23 5700 23 5706 23 5712 23 5718 23 5724 22 5730 22 5736 22 5742 22 5748 22 5754 22"></polyline>
		</g>
	</svg>
</figure>
<div>
	<label> Файл для отображения:
		<select id="datafile">
			<option>data.csv</option>
			<option selected="selected">data1.csv</option>
			<option>data2.csv</option>
			<option>data3.csv</option>
		</select>
	</label>
	<button style="float: right;" onclick="setTime()">
		Синхронизировать время.
	</button>
</div>
<label> CO2<sub>min</sub>:
	<input id="co2min" type="number" value="250" min="0" max="1000" size="2">
</label>
<label> CO2<sub>max</sub>:
	<input id="co2max" type="number" value="1500" min="700" max="5000" size="2">
</label>
<label> T<sub>min</sub>:
	<input id="tmin" type="number" value="15" min="0" max="20" size="2">
</label>
<label> T<sub>max</sub>:
	<input id="tmax" type="number" value="30" min="20" max="50" size="2">
</label>
<script>

function median(arr) {
	let len = arr.length;
	arr.sort((a, b) => a - b);
	if (len % 2) {
		return arr[len/2 | 0]
	} else {
		return (arr[len/2 - 1] + arr[len/2]) / 2
	}
}

function drawAxis() {
	let dataArea = document.getElementsByClassName('data')[0];
	let data2Area = document.getElementsByClassName('data2')[0];

	co2min = +co2min_input.value;
	co2max = +co2max_input.value;
	let data_xscale = 200 / (xmax - xmin);
	let data_yscale = -100 / (co2max - co2min);
	dataArea.setAttribute('transform',
		`scale(${data_xscale}, ${data_yscale}) translate(${-xmin}, ${-co2min})`);

	tmin = +tmin_input.value;
	tmax = +tmax_input.value;
	let data2_yscale = -100 / (tmax - tmin);
	data2Area.setAttribute('transform',
		`scale(${data_xscale}, ${data2_yscale}) translate(${-xmin}, ${-tmin})`);

	screen_data_step = Math.ceil(1.1*(xmax-xmin)/imageWidth)

	let spin_y = document.getElementById('spin_y');
	let yticks = document.getElementsByClassName('ytick');
	let yticklabels = document.getElementsByClassName('yticklabel');
	let ygridlines = document.getElementsByClassName('ygrid');
	ytick0 = yticks[0];
	yticklabel0 = yticklabels[0];
	ygridline0 = ygridlines[0];

	let spin_y2 = document.getElementById('spin_y2');
	let yticks2 = document.getElementsByClassName('ytick2');
	let yticklabels2 = document.getElementsByClassName('yticklabel2');
	let ygridlines2 = document.getElementsByClassName('ygrid2');
	ytick20 = yticks2[0];
	yticklabel20 = yticklabels2[0];
	ygridline20 = ygridlines2[0];

	yticklabel0.innerHTML = String(co2min);
	for (let t of Array.prototype.slice.call(yticks,1)) t.remove();
	for (let t of Array.prototype.slice.call(yticklabels,1)) t.remove();
	for (let t of Array.prototype.slice.call(ygridlines,1)) t.remove();

	yticklabel20.innerHTML = String(tmin);
	for (let t of Array.prototype.slice.call(yticks2,1)) t.remove();
	for (let t of Array.prototype.slice.call(yticklabels2,1)) t.remove();
	for (let t of Array.prototype.slice.call(ygridlines2,1)) t.remove();

	let tick_step = 10;
	for (tick_step of [10, 20, 50, 100, 150, 200, 500, 1000])
		if ((co2max - co2min) / tick_step <= 20) break;

	let tick2_step = 1;
	for (tick2_step of [1, 2, 5, 10, 15, 20, 50, 100])
		if ((tmax - tmin) / tick2_step <= 7) break;

	for (let t=tick_step; t <= co2max - co2min; t += tick_step) {
		let tick = ytick0.cloneNode();
		tick.setAttribute('y1', t * data_yscale);
		tick.setAttribute('y2', t * data_yscale);
		spin_y.appendChild(tick);

		let gridline = ygridline0.cloneNode();
		gridline.setAttribute('y1', t * data_yscale);
		gridline.setAttribute('y2', t * data_yscale);
		gridline.setAttribute('x2', 200);
		spin_y.appendChild(gridline);

		let ticklabel = yticklabel0.cloneNode();
		ticklabel.setAttribute('y', t * data_yscale);
		ticklabel.innerHTML = String(co2min + t);
		spin_y.appendChild(ticklabel);
	}
	for (let t=tick2_step; t <= tmax - tmin; t += tick2_step) {
		let tick = ytick20.cloneNode();
		tick.setAttribute('y1', t * data2_yscale);
		tick.setAttribute('y2', t * data2_yscale);
		spin_y2.appendChild(tick);

		let gridline = ygridline20.cloneNode();
		gridline.setAttribute('y1', t * data2_yscale);
		gridline.setAttribute('y2', t * data2_yscale);
		gridline.setAttribute('x1', 0);
		spin_y2.appendChild(gridline);

		let ticklabel = yticklabel20.cloneNode();
		ticklabel.setAttribute('y', t * data2_yscale);
		ticklabel.innerHTML = String(tmin + t);
		spin_y2.appendChild(ticklabel);
	}
}

let marr = [];
function getData(url) {
	let xhr = new XMLHttpRequest();
	xhr.open('GET', url);
	xhr.send()

	xhr.onload = function() {
		if (xhr.status != 200) {
			alert(`Ошибка ${xhr.status}: ${xhr.statusText}`);
			return
		}
		marr = [];
		for (let s of xhr.response.split('\n')) {
			if (!s || s.startsWith('#')) continue;
			marr.push(s.split(',').map(parseFloat));
		}
		let last = 400;
		for (let i = 0; i < marr.length; i++) {
			if (marr[i][0] < 200) marr[i][0] = last;
			else last = marr[i][0];
		}
		drawData(0, 'co2ppm');
		drawData(1, 'temperature');
	}
}

function setTime() {
	let dt = new Date()
	let xhr = new XMLHttpRequest();
	xhr.open('GET', 'http://192.168.4.1/' + 'settime.' +
					String((dt/1000|0) - dt.getTimezoneOffset()*60));
	xhr.send()
}

function drawData(column, plineId) {
	let line = document.getElementById(plineId);
	let dots = [];
	for (let i = xmin;
			i < marr.length && i <= xmax;
			i += screen_data_step) {
		dots.push(i, median(marr.slice(i, i + screen_data_step).map(a => a[column])));
	};
	line.setAttribute('points', dots.join(' '));
}

let xmin = 0;
let xmax = 5760;
let image = document.getElementById('figure');
let imageWidth = image.getBoundingClientRect().width;
let imageHeight = imageWidth / 2;
let screen_data_step = 1;
image.setAttribute('width', imageWidth);
image.setAttribute('height', imageHeight);

let datafile = document.getElementById('datafile');
datafile.onchange = function() { getData('http://192.168.4.1/'+this.value); }

let co2min_input = document.getElementById('co2min');
let co2max_input = document.getElementById('co2max');
let tmin_input = document.getElementById('tmin');
let tmax_input = document.getElementById('tmax');

co2min_input.onchange = function () {
	if (+co2max_input.value < +this.value + 2)
		co2max_input.value = +this.value + 2;
	drawAxis();
}

co2max_input.onchange = function () {
	if (+co2min_input.value > +this.value - 2)
		co2min_input.value = +this.value - 2;
	drawAxis();
}

tmin_input.onchange = function () {
	if (+tmax_input.value < +this.value + 5)
		tmax_input.value = +this.value + 5;
	drawAxis();
}

tmax_input.onchange = function () {
	if (+tmin_input.value > +this.value - 5)
		tmin_input.value = +this.value - 5;
	drawAxis();
}

drawAxis();
getData('http://192.168.4.1/' + datafile.value);

</script>


</body></html>